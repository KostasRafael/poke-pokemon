const pokemonRepository=function(){let e=[];function t(){return e}function n(e){let t=$(".modal-body"),n=$(".modal-title"),i=$(".modal-header");n.empty(),i.empty(),t.empty();let o=$("<h1>"+e.name+"</h1>"),a=$('<img class="modal-img" style="width:50%">').attr("src",e.image),l=$('<img class="modal-img" style="width:50%">');l.attr("src",e.imageUrlBack);let s=$("<p>height: "+e.height+"</p>"),p=$("<p>weight: "+e.weight+"</p>"),d=$("<p>types: "+e.types+"</p>"),r=$("<p>abilities: "+e.abilities+"</p>");i.append(o),t.append(a),t.append(l),t.append(s),t.append(p),t.append(d),t.append(r)}let i=document.createElement("h1");function o(){document.body.contains(i)&&document.body.removeChild(i)}function a(e){pokemonRepository.showLoadingMessage();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.image=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name).join(", "),e.abilities=t.abilities.map(e=>e.ability.name).join(", ")}).catch(function(e){console.error(e)}).finally(()=>{o()})}return i.innerText="loading...",i.classList.add("loading-message"),{getAll:t,add:function t(n){e.push(n)},addListItem:function e(t){let i=document.querySelector(".ul"),o=document.createElement("li");o.classList.add("list-group-item");let l=document.createElement("button");l.innerText=t.name,l.classList.add("pokemon-button"),l.classList.add("btn"),l.addEventListener("click",()=>{a(t).then(()=>{n(t)})}),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),o.appendChild(l),i.appendChild(o)},loadList:function e(){return pokemonRepository.showLoadingMessage(),fetch("https://pokeapi.co/api/v2/pokemon/").then(e=>e.json()).then(e=>{e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};pokemonRepository.add(t)})}).catch(function(e){console.error(e)}).finally(()=>{o()})},loadDetails:a,showLoadingMessage:function e(){document.body.appendChild(i)},hideLoadingMessage:o,showModal:n,pokePokemon:function e(){let t=document.getElementById("pokemon-input").value,n=document.getElementsByClassName("list-group-item");for(let i=0;i<n.length;i++)n[i].innerHTML.includes(t)?n[i].style.display="list-item":n[i].style.display="none"}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});