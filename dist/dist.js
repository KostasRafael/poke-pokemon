let pokemonRepository=function(){let e=[];function t(){return e}function n(e,t){let n=$(".modal-body"),i=$(".modal-title"),o=$(".modal-header");i.empty(),o.empty(),n.empty();let a=$("<h1>"+e.name+"</h1>"),l=$('<img class="modal-img" style="width:50%">').attr("src",e.image),s=$('<img class="modal-img" style="width:50%">');s.attr("src",e.imageUrlBack);let d=$("<p>height: "+e.height+"</p>"),p=$("<p>weight: "+e.weight+"</p>"),r=$("<p>types: "+e.types+"</p>"),m=$("<p>abilities: "+e.abilities+"</p>");o.append(a),n.append(l),n.append(s),n.append(d),n.append(p),n.append(r),n.append(m)}document.querySelector("#exampleModal");let i=document.createElement("h1");function o(){document.body.contains(i)&&document.body.removeChild(i)}function a(e){return pokemonRepository.showLoadingMessage(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.image=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types.map(e=>e.type.name).join(", "),e.abilities=t.abilities.map(e=>e.ability.name).join(", ")}).catch(function(e){console.error(e)}).finally(()=>{o()})}return i.innerText="loading...",i.classList.add("loading-message"),{getAll:t,add:function t(n){e.push(n)},addListItem:function e(t){let i=document.querySelector(".ul"),o=document.createElement("li");o.classList.add("list-group-item");let l=document.createElement("button");l.innerText=t.name,l.classList.add("pokemon-button"),l.classList.add("btn"),l.addEventListener("click",()=>{a(t).then(()=>{n(t)})}),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#exampleModal"),o.appendChild(l),i.appendChild(o)},loadList:function e(){return pokemonRepository.showLoadingMessage(),fetch("https://pokeapi.co/api/v2/pokemon/").then(e=>e.json()).then(e=>{e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};pokemonRepository.add(t)})}).catch(function(e){console.error(e)}).finally(()=>{o()})},loadDetails:a,showLoadingMessage:function e(){document.body.appendChild(i)},hideLoadingMessage:o,showModal:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});